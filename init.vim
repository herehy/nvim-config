" MY NEOVIM CONFIGRATION
"  __  __
" |  \/  |_   _
" | |\/| | | | |
" | |  | | |_| |
" |_|  |_|\__, |
"         |___/
"  _   _                 _
" | \ | | ___  _____   _(_)_ __ ___
" |  \| |/ _ \/ _ \ \ / / | '_ ` _ \
" | |\  |  __/ (_) \ V /| | | | | | |
" |_| \_|\___|\___/ \_/ |_|_| |_| |_|
"
"   ____             __ _                  _   _
"  / ___|___  _ __  / _(_) __ _  __ _ _ __| |_(_) ___  _ __
" | |   / _ \| '_ \| |_| |/ _` |/ _` | '__| __| |/ _ \| '_ \
" | |__| (_) | | | |  _| | (_| | (_| | |  | |_| | (_) | | | |
"  \____\___/|_| |_|_| |_|\__, |\__,_|_|   \__|_|\___/|_| |_|
"                         |___/
" ====================================================================================================

" === === === === === === === === === ===
" === Nerd Font Icons
" === === === === === === === === === ===
" temperture:           ï£‡  ï¨ƒ ï¨„ ï‹‡  ï‹ˆ
" battery:              ğŸ”‹
"                       ï•¸  ï•¹  ï•º  ï•»  ï•¼  ï•½  ï•¾  ï•¿  ï–€  ï–
"                       ï–‚  ï–ƒ  ï–„  ï–…  ï–†  ï–‡  ï–ˆ  ï–‰  ï–Š
"                       ï´…  ï´†  ï´‡  ï´ˆ  ï´‰  ï´Š  ï´‹  ï´Œ  ï´  ï´  ï´  ï´
"                       ï–‹  ï–Œ  ï–  ï–  ï–  ï–
" power:                ï¤¤ ï®£
" volume:               ï€¨  ï€§  ï€¦
" sun, moon:            ïª§ ï¨ ï††  ïª“ ïª˜ ïª™
" time, clock, alarm:   ï—¯  ï™  ï”Ÿ  ï²Œ  ï”   ï²  ï”¡  ï¨š ïªˆ ï‘•  ï’›
" wifi:                 ï‡«  ï¥¨ ï¥ª ï¥« ï¬‰  ï¨
" download:             ï›™  ï¯²
" memory:               ï¬š  ï´–  ïŸ‰  ï¡š  ğŸ’¿
" numbers:
"       0               ï¢   ï¢¡  ï¢¢
"       1               ï¢£  ï¢¤  ï¢¥
"       2               ï¢¦  ï¢§  ï¢¨
"       3               ï¢©  ï¢ª  ï¢«
"       4               ï¢¬  ï¢­  ï¢®
"       5               ï¢¯  ï¢°  ï¢±
"       6               ï¢²  ï¢³  ï¢´
"       7               ï¢µ  ï¢¶  ï¢·
"       8               ï¢¸  ï¢¹  ï¢º
"       9               ï¢»  ï¢¼  ï¢½
"       9+              ï¢¾  ï¢¿  ï£€
" linux:                îœ’  ïŒƒ  ïŒ„  ïŒ‚  ïŒ†  ïŒ  ïŒ’  ïŒ•  ïŒ–  ïŒœ  ï©‡
" windows:              îœ  ï¡±
" android:              ï”±  ï”²  ï²
" apple:                ï”µ  ï”´  ï”¶  ï¬²  ï”¸  ïš
" laptop:               ï £  ï ¤  ï ¢
" trackpad:             ï³¶
" desktop:              ï„ˆ  ï²¾  ï›„
" raspberrypi:          ï¤¾
" server:               ï¦Š ï¦Œ
" deskphone:            ï›‚
" speaker:              ï§‚ ï°
" tablet:               ï„Š  ï§µ ï§¶ ï§·
" mobile phone:         ï¬
" tv:                   ï‰¬  ï³²  ï¨ ï´·  ï¨‚
" projector:            ï¤­
" printer:              ï¤©
" scanner:              ï®©
" radio:                ï¤¸
" mouse:                ï¡¼
" switch:               ï³Ÿ
" browser:              î…  ï®  ï‰¨  ïŠ‚  ï‰«
" terminal:             î•
" user:                 ï€‡  ïŠ½  ïŠ¾  ïƒ°  ï‹€  ïˆ´  ïˆ›  ïˆµ  ïƒ€  ïŠ»  ïŠ¼
" github:               îœ‰  îœ—  ï‚’  ï¢  ï¯™
" git:                  ï‡“  ï‡’  ï¡
" bluetooth:            ïŠ“  ïŠ”
" visual studio:        îœŒ  ï¬
" unity:                ï®­
" vim:                  îŸ…  î˜«  ï‰½  ï†”  ï©¶
" onenote:              ï±…
" facebook:             ï‚‚  ïˆ°  ïœŒ  ïœ‹
" twitter:              ï‚™  ï‚
" twitch:               ï‡¨
" youtube:              ï…§  ï…ª  ï…¦  ï«‚
" wechat:               ï‡—  ï¬
" weibo:                ï†Š
" qq:                   ï‡–
" blender:              ï–ª
" douban:               ï®˜
" nodejs:               ï¢˜
" npm:                  ï¯µ
" bookmark:             ï€®  ï‚—  ï‘¡
" keyboard:             ï„œ  ï ‹  ï ’  ï‹
" film, video:          ï€ˆ  ï¢€  ï³œ  ï¤¨ ï´¼
" camera:               ï€½  ï—¼  ï—¿  ï®‘  ï˜ƒ  ï²Ÿ  ïŸ½  ï‘†  ï‘‡
" music:                ï€  î‰Š  ï«›  ï±¯  ïŸƒ  ïŸŠ  ï­µ  ï±˜  ï¢ƒ  ï¢„  ï¢…  ï¢†  ï­»
" picture, image:   ï€¾  ï‡  ïˆ  ï‰  ïŸ¨  ïŸ©  ïŸª  ïŸ®  ïŸ¸  ï£—  ï£˜  ï¤… ï¤„ î˜
" globe, earth:     ï‚¬  ï›¦  ï¯‹
" plane:            ï²  ï†—  ï”œ  ï«” ï«“ ï”
" rocket:           ï„µ  ï¥¢ ï§
" qrcode:           ï€©  ï¤²
" barcode:          ï•°  ï•±
" graduation cap:   ï†
" money:            ïš²  ï²º  ï§Š
" pat, animal:      ï†°  ï˜š  ï³„  ïœƒ  ïœ¹  ï£™  ï¤€ î˜ˆ
" recycle, reflesh: ï†¸  ï€¡  ï•©  ï®¼  o
" snow:             ï‹œ  ï°•  ï¦¶
" star:             ï€…  ï€†
" check, true, yes: ï€Œ  ï˜  ï  ï…Š  ï†  ï—€
" error, no:        Ã—
" toggle:           ïˆ„  ïˆ…
" atom:             î‰¿  ï±¦
" dice:             ï›‰  ï›Š  ï›‹  ï›Œ  ï›  ï›
" langarage:
"   c++:            ï­±
"   c#:             ï š
"   c:              ï­°
"   css3:           ï ›
"   go:             ï³‘  î˜§
"   html5:          ï œ
"   javascript:     ï   î˜Œ
"   php:            ï 
"   python:         ï Ÿ  ï  
"   r:              ï³’
"   json:           î˜‹
"   swift:          ï¯£
"   typescript:     ï¯¤
"   markdown:       ï¡“  ï’Š  î˜‰
"   taichi:         ï­¾
" puzzle:           ï¤°
" ====================================================================================================

" === === === === === === === === === ===
" === Plug Install
" === === === === === === === === === ===
call plug#begin('~/.vim/plugged')

Plug 'scrooloose/nerdtree'


Plug 'tpope/vim-surround'
Plug 'gcmt/wildfire.vim'


" === vim-airline ===
Plug 'vim-airline/vim-airline'


Plug 'junegunn/goyo.vim'


" === color scheme ===
Plug 'morhetz/gruvbox'
Plug 'tomasr/molokai'
Plug 'connorholyday/vim-snazzy'


" Plug 'valloric/youcompleteme'


" === markdown ===
Plug 'godlygeek/tabular'
Plug 'plasticboy/vim-markdown'
Plug 'iamcco/markdown-preview.nvim'


" === NCM2 ===
" Plug 'ncm2/ncm2'
" Plug 'roxma/nvim-yarp'
" Plug 'ncm2/ncm2-bufword'
" Plug 'ncm2/ncm2-path'
" Plug 'ncm2/ncm2-pyclang' " c/c++
" Plug 'ncm2/ncm2-jedi' " python


" === coc ===
Plug 'neoclide/coc.nvim', {'branch': 'release'}


Plug 'ervandew/supertab'


" === vimtex ===
Plug 'lervag/vimtex'

Plug 'KeitaNakamura/tex-conceal.vim', {'for': 'tex'}
Plug 'wjakob/wjakob.vim'


call plug#end()

" ====================================================================================================

" === === === === === === === === === ===
" === noremap
" === === === === === === === === === ===
" === noremap ===

noremap n j
noremap N 5j
noremap e k
noremap E 5k
noremap i l
noremap I 7l
noremap H 7h
noremap u i
noremap U I
noremap l u
noremap L U
noremap k n
noremap K N
noremap j e
noremap J E


" === === === === === === === === === ===
" === imap
" === === === === === === === === === ===
" === imap ===
" imap ne <Esc>


" === markdown imap configuration ===
autocmd FileType markdown imap ,mm $$<Enter>$$<Enter><++><Esc>kO
autocmd FileType markdown imap ,mb **** <++><Esc>F*hi
autocmd FileType markdown imap ,mi  $$ <++><Esc>F$i
autocmd FileType markdown imap ,mf \frac{}{<++>} <++><Esc>F{hi
autocmd FileType markdown imap ,mc ```<CR><++><CR>```<Esc>eeA


" === === === === === === === === === ===
" === map
" === === === === === === === === === ===
map <Space> <LEADER>

map ; :
map s <nop>
map S :w<CR>
map Q :q<CR>

" screen scroll
map <LEADER>t 12ezz12n
map <LEADER>s 12nzz12e

map R :source $MYVIMRC<CR>
map T :NERDTree<CR>
map <LEADER><LEADER> <Esc>/<++><CR>:nohlsearch<CR>c4i
map ,q :call CompileRunGcc()<CR>

map si :set splitright<CR>:vsplit<CR>
map sh :set nosplitright<CR>:vsplit<CR>
map se :set nosplitbelow<CR>:split<CR>
map sn :set splitbelow<CR>:split<CR>

map tx :r !figlet 

map <LEADER>i <C-w>l
map <LEADER>h <C-w>h
map <LEADER>n <C-w>j
map <LEADER>e <C-w>k

func! CompileRunGcc()
    exec "w"
    if &filetype == 'c'
        exec '!g++ % -o %<'
        exec '!time ./%<'
    elseif &filetype == 'cpp'
        exec '!g++ % -o %<'
        exec '!time ./%<'
    elseif &filetype == 'python'
        exec '!python %'
    elseif &filetype == 'sh'
        :!time bash %
    elseif &filetype == 'html'
        exec 'w'
        exec '!firefox % &'
    endif
endfunc<Paste>

" ====================================================================================================

" ===  ===    ===   ===
" === Basic setting ===
" ===  ===    ===   ===

" let mapleader=" "

" set helplang=cn

set number
set relativenumber
set ruler
set cursorline
set wrap
set wildmenu
" set foldenable
set nofoldenable
set showcmd
set autoindent
set cindent
set list listchars=extends:â¯,precedes:â®,tab:â–¸\ ,trail:â–«
set scrolloff=3

" for locale utf-8
set fileencodings=utf8,cp936,gb18030,big5


" === cursor ===
let &t_SI = "\<Esc>]50;CursorShape=1\x7"
let &t_SR = "\<Esc>]50;CursorShape=2\x7"
let &t_EI = "\<Esc>]50;CursorShape=0\x7"
au BufReadPost * if line("'\"") > 1 && line("'\"") <= line("$") | exe "normal! g'\"" | endif


" === search ===
set hlsearch
exec "nohlsearch"
set incsearch
set ignorecase
set smartcase
nmap = kzz
nmap - Kzz
nmap <LEADER><Enter> :nohlsearch<CR>


" upper, lower
nmap <LEADER>U gui
nmap <LEADER>u gUi


" === cursor moving ===
" 6 7 8 9
" a r s t
" nmap <LEADER>na 6n
" nmap <LEADER>nr 7n
" nmap <LEADER>ns 8n
" nmap <LEADER>nt 9n
" nmap <LEADER>nt 10n
" 
" nmap <LEADER>ea 6e
" nmap <LEADER>er 7e
" nmap <LEADER>es 8e
" nmap <LEADER>et 9e
" nmap <LEADER>et 10e


" === reset line ===
nmap <LEADER>r ddO


" === using mouse ===
" set mouse=a
" set selection=exclusive
" set selectmode=mouse,key


" === encoding ===
set encoding=utf-8
set fileencodings=utf-8,ucs-bom,gb18030,gbk,gb2312,cp936
set termencoding=utf-8


" === python ===
" let g:python3_host_prog=d:/install/python/install/


" === tab ===
set tabstop=4
set softtabstop=4
set shiftwidth=4
set expandtab " expand tab as four block
set autoindent

autocmd FileType html setlocal tabstop=2 softtabstop=2 shiftwidth=2 expandtab
autocmd FileType css setlocal tabstop=2 softtabstop=2 shiftwidth=2 expandtab
autocmd FileType javascript setlocal tabstop=2 softtabstop=2 shiftwidth=2 expandtab
autocmd FileType json setlocal tabstop=2 softtabstop=2 shiftwidth=2 expandtab
autocmd FileType python setlocal tabstop=2 softtabstop=2 shiftwidth=2 expandtab


" autocmd FileType
autocmd FileType json syntax match Comment +\/\/.\+$+


" === syntax ===
syntax enable " syntax highlight
syntax on


" === color scheme ===
set termguicolors " 24 bits color
" set background=dark
" set background=light
colorscheme gruvbox
" colorscheme snazzy
" colorscheme molokai
" let g:molokai_oriinal = 1
" let g:rehash256 = 1

" let g:airline_theme='one'


" === alpha background ===
hi Normal ctermfg=256 ctermbg=none
set notermguicolors
" set 24 bits color, to disable alpha
nmap <LEADER>a :set notermguicolors<CR>
" down 24 bits color, to enable alpha
nmap <LEADER>A :set termguicolors<CR>



" === system chipboard ===
vmap <LEADER>c "+yy
nmap <LEADER>c "+yy
nmap <LEADER>v "+p

" ====================================================================================================

" === === === === === === === === === ===
" === vim-airline configuration
" === === === === === === === === === ===
" let g:airline#extensions#tabline#enabled = 1


" === === === === === === === === === ===
" === NERDTree-git-plugin configuration
" === === === === === === === === === ===
"let g:NERDTreeIndicatorMapCustom = {
"    \ "Modified"  : "âœ¹",
"    \ "Staged"    : "âœš",
"    \ "Untracked" : "âœ­",
"    \ "Renamed"   : "âœ",
"    \ "Unmerged"  : "â•",
"    \ "Deleted"   : "âœ–",
"    \ "Dirty"     : "âœ—",
"    \ "Clean"     : "âœ”ï¸",
"    \ 'Ignored'   : 'â˜’',
"    \ "Unknown"   : "?"
"    \ }
"
"let g:NERDTreeShowIgnoredStatus = 1


" === === === === === === === === === ===
" === Markdown Preview configuration
" === === === === === === === === === ===
nmap <C-m> <Plug>MarkdownPreview
nmap <C-s> <Plug>MarkdownPreviewStop
nmap <C-p> <Plug>MarkdownPreviewToggle



" === === === === === === === === === ===
" === NCM2 pychang
" === === === === === === === === === ===
" leg g:ncm2_pyclang#library_path = 'D:/install/VSCode/Clang/LLVM/libg



" === === === === === === === === === ===
" === Vimtex
" === === === === === === === === === ===
filetype plugin indent on
let g:tex_flavor='latex'
let g:vimtex_view_method='zathura'
let g:vimtex_view_general_viewer = 'okular'
let g:vimtex_view_general_options = '--unique file:@pdf\#src:@line@tex'
let g:vimtex_comiler_method = 'latexrun'
let g:vimtex_quickfix_mode=0
let g:Tex_CompileRule_pdf = 'xelatex -synctex=1 --interaction=nonstopmode $*'
let g:vimtex_compiler_latexmk_engines = {'_':'-xelatex'}
let g:vimtex_compiler_latexrun_engines ={'_':'xelatex'}
set conceallevel=2
let g:tex_conceal='abdmg'



" === === === === === === === === === ===
" === coc
" === === === === === === === === === ===
set hidden
set nobackup
set nowritebackup
" set cmdheight=2
set updatetime=300

function! SetupCommandAbbrs(from, to)
  exec 'cnoreabbrev <expr> '.a:from
        \ .' ((getcmdtype() ==# ":" && getcmdline() ==# "'.a:from.'")'
        \ .'? ("'.a:to.'") : ("'.a:from.'"))'
endfunction

" Use mdpv(markdown) to open markdown-preview-enhanced
call SetupCommandAbbrs('mdpv', 'CocCommand markdown-preview-enhanced.openPreview')
